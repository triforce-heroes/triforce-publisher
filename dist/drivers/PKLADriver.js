import{readFileSync as e}from"fs";import{basename as r,resolve as s}from"path";import{extract as t}from"@triforce-heroes/triforce-pkla";import{Driver as o}from"./Driver.js";export const PKLADriver=new class extends o{constructor(){super("dat","*.dat")}resourceEntries(o,a){let c=["ja","ja_Kanji"].includes(r(s(".")));return t(a,e(`${o.slice(0,-4)}.tbl`)).map(e=>({resource:r(o,".dat"),reference:e.name,source:c?e.message.slice(0,e.message.length/2):e.message}))}};