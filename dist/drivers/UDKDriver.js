import{readFileSync as e}from"node:fs";import{Language as r,LocalizationSystem as s}from"@triforce-heroes/triforce-udk";import{Driver as t}from"./Driver.js";let o=new Map([[r.ENGLISH_EUROPE,"en"],[r.FRENCH_EUROPE,"fr"],[r.SPANISH_EUROPE,"es"],[r.GERMAN,"de"],[r.ITALIAN,"it"],[r.JAPONESE,"ja"],[r.ENGLISH_AMERICA,"en_us"],[r.FRENCH_AMERICA,"fr_us"],[r.SPANISH_AMERICA,"es_us"],[r.DUTCH,"nl"],[r.CHINESE_SIMPLIFIED,"zh"],[r.CHINESE_TRADITIONAL,"zh_tw"],[r.KOREAN,"ko"]]);export const UDKDriver=new class extends t{constructor(){super("udk","*.udk")}resourceEntries(r){return[...new s(e(r)).languages.entries()].flatMap(([e,r])=>[...r.items.values()].map(r=>({resource:o.get(e),reference:String(r.messageId),context:`${r.messageName}.${r.messageContext}`,source:r.message})))}reassignLocales(e){return Object.fromEntries(Object.entries(Object.groupBy(e,e=>e.resource)).map(([e,r])=>[e,r.map(e=>({...e,resource:"default"}))]))}};