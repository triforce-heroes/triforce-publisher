import{readFileSync as e}from"node:fs";import{LocalizationSystem as r}from"@triforce-heroes/triforce-udk";import{Driver as s}from"./Driver.js";let t=new Map([[0,"en"],[1,"fr"],[2,"es"],[3,"de"],[4,"it"],[6,"ja"],[7,"en_us"],[8,"fr_us"],[9,"es_us"],[10,"nl"],[12,"zh"],[13,"zh_tw"],[14,"ko"]]);export const UDKDriver=new class extends s{constructor(){super("udk","*.udk")}resourceEntries(s){return[...new r(e(s)).languages.entries()].flatMap(([e,r])=>[...r.items.values()].map(r=>({resource:t.get(e),reference:String(r.messageId),context:`${r.messageName}.${r.messageContext}`,source:r.message})))}reassignLocales(e){return Object.fromEntries(Object.entries(Object.groupBy(e,e=>e.resource)).map(([e,r])=>[e,r.map(e=>({...e,resource:"default"}))]))}};